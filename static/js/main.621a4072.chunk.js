(this["webpackJsonpshopify-movies"]=this["webpackJsonpshopify-movies"]||[]).push([[0],{100:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var i,a,c,s,r,o,d,j,l,b,h,O,x,u,p,g,m,f,v,y,w,T,S,R=n(0),F=n.n(R),I=n(12),C=n.n(I),D=(n(99),n(23)),N=n(17),P=n(10),k=(n(100),"507fa2b7"),Y="https://www.omdbapi.com",L={Title:"Title",Type:"movie",Year:"2021",imdbRating:"10",Genre:"Adventure",Plot:"Jamie becomes an intern at Shopify for Fall 2021?",Poster:"N/A"},A=[{Title:"Jamie",Year:"2016",imdbID:"tt5684820",Type:"movie"},{Title:"The Intern",Year:"2015",imdbID:"tt2361509",Type:"movie"},{Title:"The Shop",Year:"2018-",imdbID:"tt8755712",Type:"series"},{Title:"Fall",Year:"1997",imdbID:"tt0119098",Type:"movie"},{Title:"2021",Year:"2013",imdbID:"tt2243215",Type:"movie"}],J=n(51),M=n.n(J),z=n(11),E=n(2),B=z.a.div(i||(i=Object(P.a)(["\n  width: calc(100% - 32px);\n  background-color: #191970;\n  color: white;\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32px;\n  elevation: 8px;\n"]))),G=function(){return Object(E.jsx)(B,{children:Object(E.jsx)("b",{children:"The Shoppies"})})},H=n(185),Q=n(167),U=n(168),X=n(169),q=n(180),K=n(186),V=n(82),W=n.n(V),Z=z.a.div(a||(a=Object(P.a)(["\n  display: flex;\n\n  @media screen and (max-width: 850px) {\n    flex-wrap: wrap;\n  }\n\n  @media screen and (min-width: 850px) {\n    flex-direction: row;\n    width: 100%;\n    align-items: center;\n  }\n"]))),$=z.a.div(c||(c=Object(P.a)(["\n  padding: 12px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: black;\n  border-radius: 8px;\n  background-color: aliceblue;\n"]))),_=z.a.div(s||(s=Object(P.a)(["\n  padding-right: 32px;\n  padding-top: 16px;\n  width: 400px;\n"]))),ee=z.a.div(r||(r=Object(P.a)(["\n  padding-right: 32px;\n  padding-top: 16px;\n  width: 150px;\n"]))),te=function(e){var t=e.searchFilters,n=e.setYearFilter,i=e.setTitleFilter,a=e.setTypeFilter;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Z,{children:[Object(E.jsx)(_,{children:Object(E.jsxs)($,{children:[Object(E.jsx)(H.a,{htmlFor:"search-input",children:"Search by show title"}),Object(E.jsx)(Q.a,{id:"search-input",onChange:function(e){i(e.target.value)},type:"search",value:t.s,startAdornment:Object(E.jsx)(U.a,{position:"start",children:Object(E.jsx)(W.a,{})}),style:{width:376},required:!0})]})}),Object(E.jsx)(ee,{children:Object(E.jsxs)($,{children:[Object(E.jsx)(H.a,{htmlFor:"year-input",children:"Release Year"}),Object(E.jsx)(Q.a,{id:"year-input",onChange:function(e){n(e.target.value)},type:"number",value:t.y,style:{width:126}})]})}),Object(E.jsx)(ee,{children:Object(E.jsx)($,{children:Object(E.jsxs)(X.a,{variant:"standard",style:{width:126},children:[Object(E.jsx)("div",{className:"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-animated",children:"Show Type"}),Object(E.jsxs)(q.a,{value:t.type,onChange:function(e){a(e.target.value)},children:[Object(E.jsx)(K.a,{value:"",children:Object(E.jsx)("em",{children:"None"})}),Object(E.jsx)(K.a,{value:"movie",children:"Movie"}),Object(E.jsx)(K.a,{value:"series",children:"Series"}),Object(E.jsx)(K.a,{value:"episode",children:"Episode"})]})]})})})]})})},ne=n(184),ie=n(181),ae=n(84),ce=n(175),se=n(177),re=n(172),oe=n(174),de=n(176),je=n(173),le=n(170),be=n(171),he=n(182),Oe=n(83),xe=n.n(Oe),ue=z.a.div(o||(o=Object(P.a)(["\n  z-index: 10000;\n  background-color: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),pe=z.a.div(d||(d=Object(P.a)(["\n  padding: 16px;\n  background-color: white;\n  width: 70%;\n  height: 70%;\n  display: flex;\n  flex-direction: row;\n  overflow-y: scroll;\n"]))),ge=z.a.div(j||(j=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 65%;\n"]))),me=z.a.img(l||(l=Object(P.a)(["\n  display: block;\n  width: 100%;\n  height: auto;\n  padding-top: 8px;\n  padding-bottom: 16px;\n"]))),fe=z.a.div(b||(b=Object(P.a)(["\n  font-size: 24px;\n  padding-bottom: 8px;\n"]))),ve=z.a.div(h||(h=Object(P.a)(["\n  height: 8px;\n  width: 24px;\n"]))),ye=function(e){var t=e.isOpen,n=e.setIsOpen,i=e.imdbID,a=Object(R.useState)(L),c=Object(N.a)(a,2),s=c[0],r=c[1],o=Object(R.useRef)(null);Object(R.useEffect)((function(){if(t&&""!==i){var e="".concat(Y,"/?apikey=").concat(k,"&i=").concat(i,"&plot=full");M.a.get(e).then((function(e){"True"===e.data.Response?r(e.data):console.error("error getting show data")}))}}),[t,i]);return Object(E.jsx)(E.Fragment,{children:t&&Object(E.jsx)(ue,{onClick:function(e){if(o.current){var t=o.current.getBoundingClientRect();(e.clientX<t.x||e.clientX>t.x+t.width||e.clientY<t.y||e.clientY>t.y+t.height)&&n(!1)}},children:Object(E.jsxs)(pe,{ref:o,children:[Object(E.jsxs)(ge,{children:[Object(E.jsx)(fe,{children:Object(E.jsx)("b",{children:s.Title})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("b",{children:"Rating:"})," ",s.imdbRating]}),Object(E.jsx)(me,{src:s.Poster})]}),Object(E.jsx)(ve,{}),Object(E.jsxs)(ge,{children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("b",{children:"Year:"})," ",s.Year]}),Object(E.jsx)(ve,{}),Object(E.jsxs)("div",{children:[Object(E.jsx)("b",{children:"Genre:"})," ",s.Genre]}),Object(E.jsx)(ve,{}),Object(E.jsxs)("div",{children:[Object(E.jsx)("b",{children:"Type:"})," ",s.Type[0].toUpperCase(),s.Type.substr(1)]}),Object(E.jsx)(ve,{}),Object(E.jsx)("div",{children:Object(E.jsx)("b",{children:"Plot:"})}),Object(E.jsx)(ve,{}),Object(E.jsx)("div",{children:s.Plot})]})]})})})},we=n(178),Te=Object(z.a)(be.a)(O||(O=Object(P.a)(["\n  background-color: #191970;\n  color: white;\n"]))),Se=z.a.span(x||(x=Object(P.a)(["\n  text-transform: capitalize;\n"]))),Re=Object(z.a)(re.a)(u||(u=Object(P.a)(["\n  cursor: pointer;\n"]))),Fe=Object(z.a)(xe.a)(p||(p=Object(P.a)(["\n  margin-top: 6px;\n"]))),Ie=function(e){var t=e.show,n=e.variant,i=e.nominations,a=e.handleRemoveNomination,c=e.handleAddNomination,s=e.openShowInfoModal,r=function(){if("nomination"===n)return Object(E.jsx)(Te,{onClick:function(){a(t.imdbID)},variant:"contained",children:Object(E.jsx)(Se,{children:"Remove"})});var e=i.length>=5||i.map((function(e){return e.imdbID})).includes(t.imdbID);return Object(E.jsx)(Te,{disabled:e,onClick:function(){c(t)},variant:"contained",children:Object(E.jsx)(Se,{children:"Nominate"})})}();return Object(E.jsx)(F.a.Fragment,{children:Object(E.jsxs)(je.a,{children:[Object(E.jsx)(Re,{onClick:function(){s(t.imdbID)},children:Object(E.jsx)(Fe,{})}),Object(E.jsx)(re.a,{component:"th",scope:"row",children:t.Title}),Object(E.jsx)(re.a,{align:"right",children:t.Year}),Object(E.jsxs)(re.a,{align:"right",children:[t.Type[0].toUpperCase(),t.Type.substr(1)]}),Object(E.jsx)(re.a,{align:"right",children:r})]})})},Ce=z.a.div(g||(g=Object(P.a)(["\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 70%),\n    0px 1px 1px 0px rgb(0 0 0 / 70%), 0px 1px 3px 0px rgb(0 0 0 / 70%);\n  width: 100%;\n  min-width: 500px;\n"]))),De=z.a.div(m||(m=Object(P.a)(["\n  padding: 36px;\n  display: flex;\n  justify-content: center;\n  width: calc(100%-72px);\n"]))),Ne=function(e){var t=e.shows,n=e.variant,i=e.nominations,a=e.isLoadingSearchResults,c=e.page,s=e.totalResults,r=e.setPageFilter,o=e.handleRemoveNomination,d=e.handleAddNomination,j=Object(R.useState)(!1),l=Object(N.a)(j,2),b=l[0],h=l[1],O=Object(R.useState)(""),x=Object(N.a)(O,2),u=x[0],p=x[1],g=function(e){p(e),h(!0)};return Object(E.jsxs)(Ce,{children:[Object(E.jsxs)(oe.a,{component:le.a,children:[Object(E.jsxs)(ce.a,{size:"small",children:[Object(E.jsx)(de.a,{children:Object(E.jsxs)(je.a,{children:[Object(E.jsx)(re.a,{}),Object(E.jsx)(re.a,{children:"Title"}),Object(E.jsx)(re.a,{align:"right",children:"Year"}),Object(E.jsx)(re.a,{align:"right",children:"Type"}),Object(E.jsx)(re.a,{align:"right"})]})}),!a&&Object(E.jsx)(se.a,{children:t.map((function(e){return Object(E.jsx)(Ie,{show:e,variant:n,nominations:i,handleRemoveNomination:o,handleAddNomination:d,openShowInfoModal:g},e.imdbID)}))})]}),a&&Object(E.jsx)(De,{children:Object(E.jsx)(we.a,{size:100})}),"search"===n&&Object(E.jsx)(he.a,{rowsPerPageOptions:[10],component:"div",count:s,rowsPerPage:10,page:c-1,onChangePage:function(e,t){r(t+1)}})]}),Object(E.jsx)(ye,{isOpen:b,setIsOpen:h,imdbID:u})]})},Pe=z.a.div(f||(f=Object(P.a)(["\n  display: flex;\n  @media screen and (max-width: 1100px) {\n    flex-direction: column;\n  }\n  @media screen and (min-width: 1100px) {\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-between;\n  }\n"]))),ke=z.a.div(v||(v=Object(P.a)(["\n  width: 32px;\n  height: 32px;\n"]))),Ye=z.a.div(y||(y=Object(P.a)(["\n  height: 16px;\n"]))),Le=z.a.div(w||(w=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n"]))),Ae=function(e){var t=e.isLoadingSearchResults,n=e.searchResults,i=e.searchQuery,a=e.page,c=e.totalResults,s=e.setPageFilter,r=Object(R.useState)(!1),o=Object(N.a)(r,2),d=o[0],j=o[1],l=function(e,t){var n=Object(R.useState)((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),i=Object(N.a)(n,2),a=i[0],c=i[1];return Object(R.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(a))}),[t,a]),[a,c]}(A,"nominations"),b=Object(N.a)(l,2),h=b[0],O=b[1],x=function(e){4===h.length&&j(!0),O([].concat(Object(ae.a)(h),[e]))},u=function(e){O(h.filter((function(t){return t.imdbID!==e}))),j(!1)},p=function(){j(!1)};return Object(E.jsxs)(Pe,{children:[Object(E.jsxs)(Le,{children:[Object(E.jsx)("div",{children:Object(E.jsxs)("b",{children:['Search Results for "',i,'"']})}),Object(E.jsx)(Ye,{}),Object(E.jsx)(Ne,{variant:"search",shows:n,nominations:h,handleAddNomination:x,handleRemoveNomination:u,setPageFilter:s,page:a,totalResults:c,isLoadingSearchResults:t})]}),Object(E.jsx)(ke,{}),Object(E.jsxs)(Le,{children:[Object(E.jsx)("div",{children:Object(E.jsx)("b",{children:"Nominations"})}),Object(E.jsx)(Ye,{}),Object(E.jsx)(Ne,{variant:"nomination",shows:h,handleAddNomination:x,handleRemoveNomination:u,nominations:h,setPageFilter:s,isLoadingSearchResults:!1})]}),Object(E.jsx)(ne.a,{open:d,autoHideDuration:5e3,onClose:p,children:Object(E.jsx)(ie.a,{onClose:p,severity:"success",children:"5 shows up for nomination!"})})]})},Je=z.a.div(T||(T=Object(P.a)(["\n  padding: 24px;\n"]))),Me=z.a.div(S||(S=Object(P.a)(["\n  height: 24px;\n"])));var ze=function(){var e=Object(R.useRef)(Date.now()),t=Object(R.useState)(!1),n=Object(N.a)(t,2),i=n[0],a=n[1],c=Object(R.useState)(!1),s=Object(N.a)(c,2),r=s[0],o=s[1],d=Object(R.useState)("Too many results."),j=Object(N.a)(d,2),l=j[0],b=j[1],h=Object(R.useState)(!1),O=Object(N.a)(h,2),x=O[0],u=O[1],p=Object(R.useState)({Search:[],totalResults:"0",Response:"False"}),g=Object(N.a)(p,2),m=g[0],f=g[1],v=Object(R.useState)({s:"Jamie",page:1,apikey:k,type:""}),y=Object(N.a)(v,2),w=y[0],T=y[1],S=function(){a(!1)},F=function(){o(!1)},I=function(t){var n=function(e){var t=function(){var t="s=".concat(e.s,"&page=").concat(e.page,"&apikey=").concat(e.apikey);return void 0!==e.y&&(t="".concat(t,"&y=").concat(e.y)),""!==e.type&&(t="".concat(t,"&type=").concat(e.type)),t}();return"".concat(Y,"/?").concat(t)}(t),i=Date.now();e.current=i,setTimeout((function(){e.current===i&&(u(!0),M.a.get(n).then((function(e){if("True"===e.data.Response)o(!1),a(!1),f(e.data);else{var n=e.data.Error;"Too many results."===n?(b("Too many results. Please narrow down your search!"),o(!0)):n.includes("not found!")?(b("Show not found!"),o(!0)):""===t.s?(b("Search by show title!"),o(!0)):a(!0),f({Search:[],totalResults:"0",Response:"False"})}u(!1)})))}),500)};return Object(R.useEffect)((function(){I(w)}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(G,{}),Object(E.jsxs)(Je,{children:[Object(E.jsx)("div",{children:Object(E.jsx)("span",{children:"Search for your favourite shows by title and filter them by year and type! Nominate 5 shows!"})}),Object(E.jsx)(te,{searchFilters:w,setTitleFilter:function(e){var t=Object(D.a)(Object(D.a)({},w),{},{s:e,page:1});T(t),I(t)},setYearFilter:function(e){var t=Object(D.a)(Object(D.a)({},w),{},{y:e,page:1});T(t),I(t)},setTypeFilter:function(e){var t=Object(D.a)(Object(D.a)({},w),{},{type:e,page:1});T(t),I(t)}}),Object(E.jsx)(Me,{}),Object(E.jsx)(Ae,{isLoadingSearchResults:x,searchResults:m.Search,searchQuery:w.s,page:w.page,totalResults:Number(m.totalResults),setPageFilter:function(e){var t=Object(D.a)(Object(D.a)({},w),{},{page:e});T(t),I(t)}}),Object(E.jsx)(ne.a,{open:i,autoHideDuration:5e3,onClose:S,children:Object(E.jsx)(ie.a,{onClose:S,severity:"error",children:"Failed to load search results!"})}),Object(E.jsx)(ne.a,{open:r,autoHideDuration:2500,onClose:F,children:Object(E.jsx)(ie.a,{onClose:F,severity:"info",children:l})})]})]})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,187)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),c(e),s(e)}))};C.a.render(Object(E.jsx)(F.a.StrictMode,{children:Object(E.jsx)(ze,{})}),document.getElementById("root")),Ee()},99:function(e,t,n){}},[[125,1,2]]]);
//# sourceMappingURL=main.621a4072.chunk.js.map