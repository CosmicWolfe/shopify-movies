(this["webpackJsonpshopify-movies"]=this["webpackJsonpshopify-movies"]||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var c,i,a,o,s,r,l,j,d,b,h,O,x,u,p,g,f,v,m,y,w,F,S=n(0),R=n.n(S),T=n(12),C=n.n(T),P=(n(98),n(23)),k=n(17),N=n(10),I=(n(99),"507fa2b7"),D="http://www.omdbapi.com",Y=n(51),A=n.n(Y),z=n(11),E=n(2),J=z.a.div(c||(c=Object(N.a)(["\n  width: calc(100% - 32px);\n  background-color: #191970;\n  color: white;\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32px;\n  elevation: 8px;\n"]))),M=function(){return Object(E.jsx)(J,{children:Object(E.jsx)("b",{children:"The Shoppies"})})},B=n(185),G=n(170),H=n(187),L=n(180),U=n(188),X=z.a.div(i||(i=Object(N.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: fit-content;\n  width: 100%;\n"]))),q=z.a.div(a||(a=Object(N.a)(["\n  padding-right: 36px;\n  width: 200px;\n"]))),K=Object(z.a)(B.a)(o||(o=Object(N.a)(["\n  width: 100%;\n  background-color: aliceblue;\n"]))),Q=Object(z.a)(G.a)(s||(s=Object(N.a)(["\n  width: 200px;\n  background-color: aliceblue;\n"]))),V=function(e){var t=e.searchFilters,n=e.setYearFilter,c=e.setTitleFilter,i=e.setTypeFilter;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(X,{children:[Object(E.jsx)(q,{children:Object(E.jsx)(K,{label:" Search by show title",onChange:function(e){c(e.target.value)},type:"text",variant:"standard",value:t.s})}),Object(E.jsx)(q,{children:Object(E.jsx)(K,{label:" Filter by year of release",onChange:function(e){n(e.target.value)},type:"number",variant:"standard",value:t.y})}),Object(E.jsx)(q,{children:Object(E.jsxs)(Q,{variant:"standard",children:[Object(E.jsxs)(H.a,{htmlFor:"outlined-select-show-type",children:[" ","Filter by show type"]}),Object(E.jsxs)(L.a,{value:t.type,onChange:function(e){i(e.target.value)},children:[Object(E.jsx)(U.a,{value:"",children:Object(E.jsx)("em",{children:"None"})}),Object(E.jsx)(U.a,{value:"movie",children:"Movie"}),Object(E.jsx)(U.a,{value:"series",children:"Series"}),Object(E.jsx)(U.a,{value:"episode",children:"Episode"})]})]})})]})})},W=n(184),Z=n(181),$=n(81),_=n(176),ee=n(178),te=n(173),ne=n(175),ce=n(177),ie=n(174),ae=n(171),oe=n(172),se=n(182),re=n(80),le=n.n(re),je=z.a.div(r||(r=Object(N.a)(["\n  z-index: 10000;\n  background-color: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),de=z.a.div(l||(l=Object(N.a)(["\n  padding: 16px;\n  background-color: white;\n  width: 70%;\n  height: 70%;\n  display: flex;\n  flex-direction: row;\n  overflow-y: scroll;\n"]))),be=z.a.div(j||(j=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 65%;\n"]))),he=z.a.img(d||(d=Object(N.a)(["\n  display: block;\n  width: 100%;\n  height: auto;\n  padding-top: 8px;\n  padding-bottom: 16px;\n"]))),Oe=z.a.div(b||(b=Object(N.a)(["\n  font-size: 24px;\n  padding-bottom: 8px;\n"]))),xe=z.a.div(h||(h=Object(N.a)(["\n  height: 8px;\n  width: 24px;\n"]))),ue=function(e){var t=e.isOpen,n=e.setIsOpen,c=e.imdbID,i=Object(S.useState)({Title:"Title",Type:"movie",Year:"2020",imdbRating:"10",Genre:"Action",Plot:"Plot",Poster:"N/A"}),a=Object(k.a)(i,2),o=a[0],s=a[1],r=Object(S.useRef)(null);Object(S.useEffect)((function(){if(console.log("useeffect",c),t&&""!==c){console.log("in");var e="".concat(D,"/?apikey=").concat(I,"&i=").concat(c,"&plot=full");A.a.get(e).then((function(e){"True"===e.data.Response?s(e.data):console.error("error getting show data")}))}}),[t,c]);return Object(E.jsx)(E.Fragment,{children:t&&Object(E.jsx)(je,{onClick:function(e){if(r.current){var t=r.current.getBoundingClientRect();(e.clientX<t.x||e.clientX>t.x+t.width||e.clientY<t.y||e.clientY>t.y+t.height)&&n(!1)}},children:Object(E.jsxs)(de,{ref:r,children:[Object(E.jsxs)(be,{children:[Object(E.jsx)(Oe,{children:Object(E.jsx)("b",{children:o.Title})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("b",{children:"Rating:"})," ",o.imdbRating]}),Object(E.jsx)(he,{src:o.Poster})]}),Object(E.jsx)(xe,{}),Object(E.jsxs)(be,{children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("b",{children:"Year:"})," ",o.Year]}),Object(E.jsx)(xe,{}),Object(E.jsxs)("div",{children:[Object(E.jsx)("b",{children:"Genre:"})," ",o.Genre]}),Object(E.jsx)(xe,{}),Object(E.jsxs)("div",{children:[Object(E.jsx)("b",{children:"Type:"})," ",o.Type[0].toUpperCase(),o.Type.substr(1)]}),Object(E.jsx)(xe,{}),Object(E.jsx)("div",{children:Object(E.jsx)("b",{children:"Plot:"})}),Object(E.jsx)(xe,{}),Object(E.jsx)("div",{children:o.Plot})]})]})})})},pe=Object(z.a)(oe.a)(O||(O=Object(N.a)(["\n  background-color: #191970;\n  color: white;\n"]))),ge=z.a.span(x||(x=Object(N.a)(["\n  text-transform: capitalize;\n"]))),fe=Object(z.a)(te.a)(u||(u=Object(N.a)(["\n  cursor: pointer;\n"]))),ve=Object(z.a)(le.a)(p||(p=Object(N.a)(["\n  margin-top: 2px;\n"]))),me=function(e){var t=e.show,n=e.variant,c=e.nominations,i=e.handleRemoveNomination,a=e.handleAddNomination,o=e.openShowInfoModal,s=function(){if("nomination"===n)return Object(E.jsx)(pe,{onClick:function(){i(t.imdbID)},variant:"contained",children:Object(E.jsx)(ge,{children:"Remove"})});var e=(null===c||void 0===c?void 0:c.length)>=5||(null===c||void 0===c?void 0:c.map((function(e){return e.imdbID})).includes(t.imdbID));return Object(E.jsx)(pe,{disabled:e,onClick:function(){a(t)},variant:"contained",children:Object(E.jsx)(ge,{children:"Nominate"})})}();return Object(E.jsx)(R.a.Fragment,{children:Object(E.jsxs)(ie.a,{children:[Object(E.jsx)(fe,{onClick:function(){console.log("on click info icon called"),o(t.imdbID)},children:Object(E.jsx)(ve,{})}),Object(E.jsx)(te.a,{component:"th",scope:"row",children:t.Title}),Object(E.jsx)(te.a,{align:"right",children:t.Year}),Object(E.jsxs)(te.a,{align:"right",children:[t.Type[0].toUpperCase(),t.Type.substr(1)]}),Object(E.jsx)(te.a,{align:"right",children:s})]})})},ye=z.a.div(g||(g=Object(N.a)(["\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 70%),\n    0px 1px 1px 0px rgb(0 0 0 / 70%), 0px 1px 3px 0px rgb(0 0 0 / 70%);\n  width: 100%;\n"]))),we=function(e){var t=e.shows,n=e.variant,c=e.nominations,i=e.page,a=e.totalResults,o=e.setPageFilter,s=e.handleRemoveNomination,r=e.handleAddNomination,l=Object(S.useState)(!1),j=Object(k.a)(l,2),d=j[0],b=j[1],h=Object(S.useState)(""),O=Object(k.a)(h,2),x=O[0],u=O[1],p=function(e){u(e),b(!0)};return Object(E.jsxs)(ye,{children:[Object(E.jsxs)(ne.a,{component:ae.a,children:[Object(E.jsxs)(_.a,{size:"small",children:[Object(E.jsx)(ce.a,{children:Object(E.jsxs)(ie.a,{children:[Object(E.jsx)(te.a,{}),Object(E.jsx)(te.a,{children:"Title"}),Object(E.jsx)(te.a,{align:"right",children:"Year"}),Object(E.jsx)(te.a,{align:"right",children:"Type"}),Object(E.jsx)(te.a,{align:"right"})]})}),Object(E.jsx)(ee.a,{children:t.map((function(e){return Object(E.jsx)(me,{show:e,variant:n,nominations:c,handleRemoveNomination:s,handleAddNomination:r,openShowInfoModal:p},e.imdbID)}))})]}),"search"===n&&Object(E.jsx)(se.a,{rowsPerPageOptions:[10],component:"div",count:a,rowsPerPage:10,page:i-1,onChangePage:function(e,t){o(t+1)}})]}),Object(E.jsx)(ue,{isOpen:d,setIsOpen:b,imdbID:x})]})},Fe=z.a.div(f||(f=Object(N.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  justify-content: space-between;\n"]))),Se=z.a.div(v||(v=Object(N.a)(["\n  width: 32px;\n"]))),Re=z.a.div(m||(m=Object(N.a)(["\n  height: 16px;\n"]))),Te=z.a.div(y||(y=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n"]))),Ce=function(e){var t=e.searchResults,n=e.page,c=e.totalResults,i=e.setPageFilter,a=Object(S.useState)(!1),o=Object(k.a)(a,2),s=o[0],r=o[1],l=function(e,t){var n=Object(S.useState)((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),c=Object(k.a)(n,2),i=c[0],a=c[1];return Object(S.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,a]}([],"nominations"),j=Object(k.a)(l,2),d=j[0],b=j[1],h=function(e){4===d.length&&r(!0),b([].concat(Object($.a)(d),[e]))},O=function(e){b(d.filter((function(t){return t.imdbID!==e}))),r(!1)},x=function(){r(!1)};return Object(E.jsxs)(Fe,{children:[Object(E.jsxs)(Te,{children:[Object(E.jsx)("div",{children:Object(E.jsx)("b",{children:"Search Results"})}),Object(E.jsx)(Re,{}),Object(E.jsx)(we,{variant:"search",shows:t,nominations:d,handleAddNomination:h,handleRemoveNomination:O,setPageFilter:i,page:n,totalResults:c})]}),Object(E.jsx)(Se,{}),Object(E.jsxs)(Te,{children:[Object(E.jsx)("div",{children:Object(E.jsx)("b",{children:"Nominations"})}),Object(E.jsx)(Re,{}),Object(E.jsx)(we,{variant:"nomination",shows:d,handleAddNomination:h,handleRemoveNomination:O,nominations:d,setPageFilter:i})]}),Object(E.jsx)(W.a,{open:s,autoHideDuration:5e3,onClose:x,children:Object(E.jsx)(Z.a,{onClose:x,severity:"success",children:"5 shows up for nomination!"})})]})},Pe=z.a.div(w||(w=Object(N.a)(["\n  padding: 24px;\n"]))),ke=z.a.div(F||(F=Object(N.a)(["\n  height: 24px;\n"])));var Ne=function(){var e=Object(S.useState)(!1),t=Object(k.a)(e,2),n=t[0],c=t[1],i=Object(S.useState)(!1),a=Object(k.a)(i,2),o=a[0],s=a[1],r=Object(S.useState)("Too many results."),l=Object(k.a)(r,2),j=l[0],d=l[1],b=Object(S.useState)({Search:[],totalResults:"0",Response:"False"}),h=Object(k.a)(b,2),O=h[0],x=h[1],u=Object(S.useState)({s:"",page:1,apikey:I}),p=Object(k.a)(u,2),g=p[0],f=p[1],v=function(e){var t=function(e){var t=function(){var t="s=".concat(e.s,"&page=").concat(e.page,"&apikey=").concat(e.apikey);return void 0!==e.y&&(t="".concat(t,"&y=").concat(e.y)),void 0!==e.type&&(t="".concat(t,"&type=").concat(e.type)),t}();return"".concat(D,"/?").concat(t)}(e);A.a.get(t).then((function(t){if("True"===t.data.Response)s(!1),c(!1),x(t.data);else{var n=t.data.Error;"Too many results."===n?(d("Too many results. Please narrow down your search!"),s(!0)):n.includes("not found!")?(d("Show not found!"),s(!0)):""===e.s?(d("Search by show title!"),s(!0)):c(!0),x({Search:[],totalResults:"0",Response:"False"})}}))},m=function(){c(!1)},y=function(){s(!1)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(M,{}),Object(E.jsxs)(Pe,{children:[Object(E.jsx)("div",{children:Object(E.jsx)("span",{children:"Nominate 5 shows!"})}),Object(E.jsx)(ke,{}),Object(E.jsx)(V,{searchFilters:g,setTitleFilter:function(e){var t=Object(P.a)(Object(P.a)({},g),{},{s:e,page:1});f(t),v(t)},setYearFilter:function(e){var t=Object(P.a)(Object(P.a)({},g),{},{y:e,page:1});f(t),v(t)},setTypeFilter:function(e){var t=Object(P.a)(Object(P.a)({},g),{},{type:e,page:1});f(t),v(t)}}),Object(E.jsx)(ke,{}),Object(E.jsx)(Ce,{searchResults:O.Search,page:g.page,totalResults:Number(O.totalResults),setPageFilter:function(e){var t=Object(P.a)(Object(P.a)({},g),{},{page:e});f(t),v(t)}}),Object(E.jsx)(W.a,{open:n,autoHideDuration:5e3,onClose:m,children:Object(E.jsx)(Z.a,{onClose:m,severity:"error",children:"Failed to load search results!"})}),Object(E.jsx)(W.a,{open:o,autoHideDuration:2500,onClose:y,children:Object(E.jsx)(Z.a,{onClose:y,severity:"info",children:j})})]})]})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};C.a.render(Object(E.jsx)(R.a.StrictMode,{children:Object(E.jsx)(Ne,{})}),document.getElementById("root")),Ie()},98:function(e,t,n){},99:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.e603eb68.chunk.js.map