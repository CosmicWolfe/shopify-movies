(this["webpackJsonpshopify-movies"]=this["webpackJsonpshopify-movies"]||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var i,a,c,s,r,o,d,l,j,b,h,x,p,u,O,m,g,f,v,y,w,S,T,R=n(0),F=n.n(R),C=n(12),I=n.n(C),D=(n(95),n(23)),k=n(17),N=n(10),P=(n(96),"507fa2b7"),Y="https://www.omdbapi.com",L={Title:"Title",Type:"movie",Year:"2021",imdbRating:"10",Genre:"Adventure",Plot:"Jamie becomes an intern at Shopify for Fall 2021?",Poster:"N/A"},A=[{Title:"Jamie",Year:"2016",imdbID:"tt5684820",Type:"movie"},{Title:"Intern",Year:"2000",imdbID:"tt0202989",Type:"movie"},{Title:"At The Shop",Year:"2013-",imdbID:"tt2933318",Type:"series"},{Title:"Fall",Year:"1997",imdbID:"tt0119098",Type:"movie"},{Title:"2021",Year:"2013",imdbID:"tt2243215",Type:"movie"}],E=n(51),J=n.n(E),M=n(11),z=n(2),B=M.a.div(i||(i=Object(N.a)(["\n  width: calc(100% - 32px);\n  background-color: #191970;\n  color: white;\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32px;\n  elevation: 8px;\n"]))),H=function(){return Object(z.jsx)(B,{children:Object(z.jsx)("b",{children:"The Shoppies"})})},G=n(184),Q=n(166),U=n(167),X=n(168),q=n(179),K=n(185),V=n(79),W=n.n(V),Z=M.a.div(a||(a=Object(N.a)(["\n  display: flex;\n\n  @media screen and (max-width: 850px) {\n    flex-wrap: wrap;\n  }\n\n  @media screen and (min-width: 850px) {\n    flex-direction: row;\n    width: 100%;\n    align-items: center;\n  }\n"]))),$=M.a.div(c||(c=Object(N.a)(["\n  padding: 12px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: black;\n  border-radius: 8px;\n  background-color: aliceblue;\n"]))),_=M.a.div(s||(s=Object(N.a)(["\n  padding-right: 32px;\n  padding-top: 16px;\n  width: 400px;\n"]))),ee=M.a.div(r||(r=Object(N.a)(["\n  padding-right: 32px;\n  padding-top: 16px;\n  width: 150px;\n"]))),te=function(e){var t=e.searchFilters,n=e.setYearFilter,i=e.setTitleFilter,a=e.setTypeFilter;return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(Z,{children:[Object(z.jsx)(_,{children:Object(z.jsxs)($,{children:[Object(z.jsx)(G.a,{htmlFor:"search-input",children:"Search by show title"}),Object(z.jsx)(Q.a,{id:"search-input",onChange:function(e){i(e.target.value)},type:"search",value:t.s,startAdornment:Object(z.jsx)(U.a,{position:"start",children:Object(z.jsx)(W.a,{})}),style:{width:376},required:!0})]})}),Object(z.jsx)(ee,{children:Object(z.jsxs)($,{children:[Object(z.jsx)(G.a,{htmlFor:"year-input",children:"Release Year"}),Object(z.jsx)(Q.a,{id:"year-input",onChange:function(e){n(e.target.value)},type:"number",value:t.y,style:{width:126}})]})}),Object(z.jsx)(ee,{children:Object(z.jsx)($,{children:Object(z.jsxs)(X.a,{variant:"standard",style:{width:126},children:[Object(z.jsx)("div",{className:"MuiFormLabel-root MuiInputLabel-root MuiInputLabel-animated",children:"Show Type"}),Object(z.jsxs)(q.a,{value:t.type,onChange:function(e){a(e.target.value)},children:[Object(z.jsx)(K.a,{value:"",children:Object(z.jsx)("em",{children:"None"})}),Object(z.jsx)(K.a,{value:"movie",children:"Movie"}),Object(z.jsx)(K.a,{value:"series",children:"Series"}),Object(z.jsx)(K.a,{value:"episode",children:"Episode"})]})]})})})]})})},ne=n(183),ie=n(180),ae=n(80),ce=n(174),se=n(176),re=n(171),oe=n(173),de=n(175),le=n(172),je=n(169),be=n(170),he=n(181),xe=M.a.div(o||(o=Object(N.a)(["\n  z-index: 10000;\n  background-color: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),pe=M.a.div(d||(d=Object(N.a)(["\n  padding: 16px;\n  background-color: white;\n  max-width: 70%;\n  max-height: 70%;\n  display: flex;\n  flex-direction: row;\n  overflow-y: scroll;\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 30%),\n    0px 1px 1px 0px rgb(0 0 0 / 30%), 0px 1px 3px 0px rgb(0 0 0 / 30%);\n"]))),ue=M.a.div(l||(l=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 65%;\n"]))),Oe=M.a.img(j||(j=Object(N.a)(["\n  display: block;\n  width: 100%;\n  height: auto;\n  padding-top: 8px;\n  padding-bottom: 16px;\n"]))),me=M.a.div(b||(b=Object(N.a)(["\n  font-size: 24px;\n  padding-bottom: 8px;\n"]))),ge=M.a.div(h||(h=Object(N.a)(["\n  height: 8px;\n  width: 24px;\n"]))),fe=function(e){var t=e.isOpen,n=e.setIsOpen,i=e.imdbID,a=Object(R.useState)(L),c=Object(k.a)(a,2),s=c[0],r=c[1],o=Object(R.useRef)(null);Object(R.useEffect)((function(){if(t&&""!==i){var e="".concat(Y,"/?apikey=").concat(P,"&i=").concat(i,"&plot=full");J.a.get(e).then((function(e){"True"===e.data.Response?r(e.data):console.error("error getting show data")}))}}),[t,i]);return Object(z.jsx)(z.Fragment,{children:t&&Object(z.jsx)(xe,{onClick:function(e){if(o.current){var t=o.current.getBoundingClientRect();(e.clientX<t.x||e.clientX>t.x+t.width||e.clientY<t.y||e.clientY>t.y+t.height)&&n(!1)}},children:Object(z.jsxs)(pe,{ref:o,children:[Object(z.jsxs)(ue,{children:[Object(z.jsx)(me,{children:Object(z.jsx)("b",{children:s.Title})}),Object(z.jsxs)("div",{children:[Object(z.jsx)("b",{children:"Rating:"})," ",s.imdbRating]}),Object(z.jsx)(Oe,{src:s.Poster})]}),Object(z.jsx)(ge,{}),Object(z.jsxs)(ue,{children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("b",{children:"Year:"})," ",s.Year]}),Object(z.jsx)(ge,{}),Object(z.jsxs)("div",{children:[Object(z.jsx)("b",{children:"Genre:"})," ",s.Genre]}),Object(z.jsx)(ge,{}),Object(z.jsxs)("div",{children:[Object(z.jsx)("b",{children:"Type:"})," ",s.Type[0].toUpperCase(),s.Type.substr(1)]}),Object(z.jsx)(ge,{}),Object(z.jsx)("div",{children:Object(z.jsx)("b",{children:"Plot:"})}),Object(z.jsx)(ge,{}),Object(z.jsx)("div",{children:s.Plot})]})]})})})},ve=n(177),ye=Object(M.a)(be.a)(x||(x=Object(N.a)(["\n  background-color: #191970;\n  color: white;\n"]))),we=M.a.span(p||(p=Object(N.a)(["\n  text-transform: capitalize;\n"]))),Se=Object(M.a)(re.a)(u||(u=Object(N.a)(["\n  cursor: pointer;\n"]))),Te=M.a.span(O||(O=Object(N.a)(["\n  margin-top: 6px;\n  color: #136CB2;\n  :hover {\n    text-decoration: underline;\n  }\n"]))),Re=function(e){var t=e.show,n=e.variant,i=e.nominations,a=e.handleRemoveNomination,c=e.handleAddNomination,s=e.openShowInfoModal,r=function(){if("nomination"===n)return Object(z.jsx)(ye,{onClick:function(){a(t.imdbID)},variant:"contained",children:Object(z.jsx)(we,{children:"Remove"})});var e=i.map((function(e){return e.imdbID})).includes(t.imdbID);return Object(z.jsx)(ye,{disabled:e,onClick:function(){c(t)},variant:"contained",children:Object(z.jsx)(we,{children:"Nominate"})})}();return Object(z.jsx)(F.a.Fragment,{children:Object(z.jsxs)(le.a,{children:[Object(z.jsx)(Se,{onClick:function(){s(t.imdbID)},component:"th",scope:"row",children:Object(z.jsx)(Te,{children:t.Title})}),Object(z.jsx)(re.a,{align:"right",children:t.Year}),Object(z.jsxs)(re.a,{align:"right",children:[t.Type[0].toUpperCase(),t.Type.substr(1)]}),Object(z.jsx)(re.a,{align:"right",children:r})]})})},Fe=M.a.div(m||(m=Object(N.a)(["\n  box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 70%),\n    0px 1px 1px 0px rgb(0 0 0 / 70%), 0px 1px 3px 0px rgb(0 0 0 / 70%);\n  width: 100%;\n  min-width: 500px;\n"]))),Ce=M.a.div(g||(g=Object(N.a)(["\n  padding: 36px;\n  display: flex;\n  justify-content: center;\n  width: calc(100%-72px);\n"]))),Ie=function(e){var t=e.shows,n=e.variant,i=e.nominations,a=e.isLoadingSearchResults,c=e.page,s=e.totalResults,r=e.setPageFilter,o=e.handleRemoveNomination,d=e.handleAddNomination,l=Object(R.useState)(!1),j=Object(k.a)(l,2),b=j[0],h=j[1],x=Object(R.useState)(""),p=Object(k.a)(x,2),u=p[0],O=p[1],m=function(e){O(e),h(!0)};return Object(z.jsxs)(Fe,{children:[Object(z.jsxs)(oe.a,{component:je.a,children:[Object(z.jsxs)(ce.a,{size:"small",children:[Object(z.jsx)(de.a,{children:Object(z.jsxs)(le.a,{children:[Object(z.jsx)(re.a,{children:"Title"}),Object(z.jsx)(re.a,{align:"right",children:"Year"}),Object(z.jsx)(re.a,{align:"right",children:"Type"}),Object(z.jsx)(re.a,{align:"right"})]})}),!a&&Object(z.jsx)(se.a,{children:t.map((function(e){return Object(z.jsx)(Re,{show:e,variant:n,nominations:i,handleRemoveNomination:o,handleAddNomination:d,openShowInfoModal:m},e.imdbID)}))})]}),a&&Object(z.jsx)(Ce,{children:Object(z.jsx)(ve.a,{size:100})}),"search"===n&&Object(z.jsx)(he.a,{rowsPerPageOptions:[10],component:"div",count:s,rowsPerPage:10,page:c-1,onChangePage:function(e,t){r(t+1)}})]}),Object(z.jsx)(fe,{isOpen:b,setIsOpen:h,imdbID:u})]})},De=M.a.div(f||(f=Object(N.a)(["\n  display: flex;\n  \n  @media screen and (max-width: 1100px) {\n    flex-direction: column;\n  }\n  @media screen and (min-width: 1100px) {\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-between;\n  }\n"]))),ke=M.a.div(v||(v=Object(N.a)(["\n  width: 32px;\n  height: 32px;\n"]))),Ne=M.a.div(y||(y=Object(N.a)(["\n  height: 16px;\n"]))),Pe=M.a.div(w||(w=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n"]))),Ye=function(e){var t=e.isLoadingSearchResults,n=e.searchResults,i=e.searchQuery,a=e.page,c=e.totalResults,s=e.setPageFilter,r=Object(R.useState)(!1),o=Object(k.a)(r,2),d=o[0],l=o[1],j=Object(R.useState)(!1),b=Object(k.a)(j,2),h=b[0],x=b[1],p=function(e,t){var n=Object(R.useState)((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),i=Object(k.a)(n,2),a=i[0],c=i[1];return Object(R.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(a))}),[t,a]),[a,c]}(A,"nominations"),u=Object(k.a)(p,2),O=u[0],m=u[1],g=function(e){5!==O.length?m([].concat(Object(ae.a)(O),[e])):x(!0)},f=function(e){m(O.filter((function(t){return t.imdbID!==e}))),l(!1)},v=function(){l(!1)},y=function(){x(!1)};return Object(R.useEffect)((function(){5===O.length&&l(!0)}),[O]),Object(z.jsxs)(De,{children:[Object(z.jsxs)(Pe,{children:[Object(z.jsx)("div",{children:Object(z.jsxs)("b",{children:['Search Results for "',i,'"']})}),Object(z.jsx)(Ne,{}),Object(z.jsx)(Ie,{variant:"search",shows:n,nominations:O,handleAddNomination:g,handleRemoveNomination:f,setPageFilter:s,page:a,totalResults:c,isLoadingSearchResults:t})]}),Object(z.jsx)(ke,{}),Object(z.jsxs)(Pe,{children:[Object(z.jsx)("div",{children:Object(z.jsx)("b",{children:"Nominations"})}),Object(z.jsx)(Ne,{}),Object(z.jsx)(Ie,{variant:"nomination",shows:O,handleAddNomination:g,handleRemoveNomination:f,nominations:O,setPageFilter:s,isLoadingSearchResults:!1})]}),Object(z.jsx)(ne.a,{open:d,autoHideDuration:5e3,onClose:v,children:Object(z.jsx)(ie.a,{onClose:v,severity:"success",children:"5 shows up for nomination!"})}),Object(z.jsx)(ne.a,{open:h,autoHideDuration:5e3,onClose:y,children:Object(z.jsx)(ie.a,{onClose:y,severity:"warning",children:"Cannot nominate more than 5 shows!"})})]})},Le=M.a.div(S||(S=Object(N.a)(["\n  padding: 24px;\n"]))),Ae=M.a.div(T||(T=Object(N.a)(["\n  height: 24px;\n"])));var Ee=function(){var e=Object(R.useRef)(Date.now()),t=Object(R.useState)(!1),n=Object(k.a)(t,2),i=n[0],a=n[1],c=Object(R.useState)(!1),s=Object(k.a)(c,2),r=s[0],o=s[1],d=Object(R.useState)("Too many results."),l=Object(k.a)(d,2),j=l[0],b=l[1],h=Object(R.useState)(!1),x=Object(k.a)(h,2),p=x[0],u=x[1],O=Object(R.useState)({Search:[],totalResults:"0",Response:"False"}),m=Object(k.a)(O,2),g=m[0],f=m[1],v=Object(R.useState)({s:"Jamie",page:1,apikey:P,type:""}),y=Object(k.a)(v,2),w=y[0],S=y[1],T=function(){a(!1)},F=function(){o(!1)},C=function(t){var n=function(e){var t=function(){var t="s=".concat(e.s,"&page=").concat(e.page,"&apikey=").concat(e.apikey);return void 0!==e.y&&(t="".concat(t,"&y=").concat(e.y)),""!==e.type&&(t="".concat(t,"&type=").concat(e.type)),t}();return"".concat(Y,"/?").concat(t)}(t),i=Date.now();e.current=i,setTimeout((function(){e.current===i&&(u(!0),J.a.get(n).then((function(e){if("True"===e.data.Response)o(!1),a(!1),f(e.data);else{var n=e.data.Error;"Too many results."===n?(b("Too many results. Please narrow down your search!"),o(!0)):n.includes("not found!")?(b("Show not found!"),o(!0)):""===t.s?(b("Search by show title!"),o(!0)):a(!0),f({Search:[],totalResults:"0",Response:"False"})}u(!1)})))}),500)};return Object(R.useEffect)((function(){C(w)}),[]),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(H,{}),Object(z.jsxs)(Le,{children:[Object(z.jsx)("div",{children:Object(z.jsx)("span",{children:"Search for your favourite shows by title and filter them by year and type! Click into a show for more details and nominate 5 shows!"})}),Object(z.jsx)(te,{searchFilters:w,setTitleFilter:function(e){var t=Object(D.a)(Object(D.a)({},w),{},{s:e,page:1});S(t),C(t)},setYearFilter:function(e){var t=Object(D.a)(Object(D.a)({},w),{},{y:e,page:1});S(t),C(t)},setTypeFilter:function(e){var t=Object(D.a)(Object(D.a)({},w),{},{type:e,page:1});S(t),C(t)}}),Object(z.jsx)(Ae,{}),Object(z.jsx)(Ye,{isLoadingSearchResults:p,searchResults:g.Search,searchQuery:w.s,page:w.page,totalResults:Number(g.totalResults),setPageFilter:function(e){var t=Object(D.a)(Object(D.a)({},w),{},{page:e});S(t),C(t)}}),Object(z.jsx)(ne.a,{open:i,autoHideDuration:5e3,onClose:T,children:Object(z.jsx)(ie.a,{onClose:T,severity:"error",children:"Failed to load search results!"})}),Object(z.jsx)(ne.a,{open:r,autoHideDuration:2500,onClose:F,children:Object(z.jsx)(ie.a,{onClose:F,severity:"info",children:j})})]})]})},Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,186)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),c(e),s(e)}))};I.a.render(Object(z.jsx)(F.a.StrictMode,{children:Object(z.jsx)(Ee,{})}),document.getElementById("root")),Je()},95:function(e,t,n){},96:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.0af0a757.chunk.js.map